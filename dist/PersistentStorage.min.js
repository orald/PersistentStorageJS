/*! PersistentStorage 12-06-2013 */
var PersistentStorage=function(){function t(t){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=RegExp("^"+this.prefix)}function e(){return(new Date).getTime()}function i(t){return JSON.stringify(is.Undefined(t)?null:t)}function r(t){return JSON.parse(t)}var n=window.localStorage,o=null;return o=window.localStorage&&window.JSON?{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),r(n.getItem(this._prefix(t)))},set:function(t,r,o){return is.Numeric(o)?n.setItem(this._ttlKey(t),i(e()+o)):n.removeItem(this._ttlKey(t)),n.setItem(this._prefix(t),i(r))},remove:function(t){return n.removeItem(this._ttlKey(t)),n.removeItem(this._prefix(t)),this},clear:function(){var t,e,i=[],r=n.length;for(t=0;r>t;t++)(e=n.key(t)).match(this.keyMatcher)&&i.push(e.replace(this.keyMatcher,""));for(t=i.length;t--;)this.remove(i[t]);return this},isExpired:function(t){var i=r(n.getItem(this._ttlKey(t)));return is.Numeric(i)&&e()>i?!0:!1}}:{get:utils.noop,set:utils.noop,remove:utils.noop,clear:utils.noop,isExpired:utils.noop},utils.mixin(t.prototype,o),t}();